This class trys to parse different while structures